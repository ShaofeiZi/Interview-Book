<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Interview Book | Q: Currying</title>
    <meta name="description" content="前端面试题以及前端知识点梳理">
    
    
    <link rel="preload" href="/Interview-Book/assets/css/31.styles.abdfda26.css" as="style"><link rel="preload" href="/Interview-Book/assets/js/app.cc7264ff.js" as="script"><link rel="preload" href="/Interview-Book/assets/js/29.4cda0dc1.js" as="script"><link rel="prefetch" href="/Interview-Book/assets/js/15.73cb8c19.js"><link rel="prefetch" href="/Interview-Book/assets/js/0.fa55fd76.js"><link rel="prefetch" href="/Interview-Book/assets/js/1.42f91184.js"><link rel="prefetch" href="/Interview-Book/assets/js/2.855ab1b4.js"><link rel="prefetch" href="/Interview-Book/assets/js/3.e8fce265.js"><link rel="prefetch" href="/Interview-Book/assets/js/4.08e14bbe.js"><link rel="prefetch" href="/Interview-Book/assets/js/5.b4aca0a2.js"><link rel="prefetch" href="/Interview-Book/assets/js/6.48e246c3.js"><link rel="prefetch" href="/Interview-Book/assets/js/7.314c79e2.js"><link rel="prefetch" href="/Interview-Book/assets/js/8.a36a9c77.js"><link rel="prefetch" href="/Interview-Book/assets/js/9.34beea8b.js"><link rel="prefetch" href="/Interview-Book/assets/js/10.9a71a14d.js"><link rel="prefetch" href="/Interview-Book/assets/js/11.a9794c03.js"><link rel="prefetch" href="/Interview-Book/assets/js/12.74576756.js"><link rel="prefetch" href="/Interview-Book/assets/js/13.3a140532.js"><link rel="prefetch" href="/Interview-Book/assets/js/14.860bd71a.js"><link rel="prefetch" href="/Interview-Book/assets/js/16.74524187.js"><link rel="prefetch" href="/Interview-Book/assets/js/17.449fcfbc.js"><link rel="prefetch" href="/Interview-Book/assets/js/18.8d02e026.js"><link rel="prefetch" href="/Interview-Book/assets/js/19.809df8fe.js"><link rel="prefetch" href="/Interview-Book/assets/js/20.6d3cb1ce.js"><link rel="prefetch" href="/Interview-Book/assets/js/21.4b33f39f.js"><link rel="prefetch" href="/Interview-Book/assets/js/22.5b526472.js"><link rel="prefetch" href="/Interview-Book/assets/js/23.116cfae7.js"><link rel="prefetch" href="/Interview-Book/assets/js/24.06f1e64c.js"><link rel="prefetch" href="/Interview-Book/assets/js/25.dc8aafae.js"><link rel="prefetch" href="/Interview-Book/assets/js/26.3bb6309e.js"><link rel="prefetch" href="/Interview-Book/assets/js/27.56fb8f90.js"><link rel="prefetch" href="/Interview-Book/assets/js/28.16962525.js"><link rel="prefetch" href="/Interview-Book/assets/js/30.53cbda7e.js">
    <link rel="stylesheet" href="/Interview-Book/assets/css/31.styles.abdfda26.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/Interview-Book/" class="home-link router-link-active"><!----><span class="site-name">
      Interview Book
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/Interview-Book/guide/" class="nav-link">Guide</a></div><a href="https://github.com/Liyuk/Interview-Book" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Interview-Book/guide/" class="nav-link">Guide</a></div><a href="https://github.com/Liyuk/Interview-Book" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><!----></div><div class="page"><div class="content"><h2 id="q-currying"><a href="#q-currying" aria-hidden="true" class="header-anchor">#</a> Q: Currying</h2><h2 id="a"><a href="#a" aria-hidden="true" class="header-anchor">#</a> A:</h2><p><code>Author: @liyuk</code><code>Proofreader: @沉禹</code></p><h3 id="简单介绍"><a href="#简单介绍" aria-hidden="true" class="header-anchor">#</a> 简单介绍</h3><p>柯里化又叫部分求值，是把接受多个参数的函数变换成接受一个单一参数（最初函数的第一个参数）的函数，并且返回接受余下的参数而且返回结果的新函数的技术。</p><hr><h3 id="基础阅读"><a href="#基础阅读" aria-hidden="true" class="header-anchor">#</a> 基础阅读</h3><p>如果需要了解学习柯里化的概念，何幻大神的《柯里化的前生今世》系列十三篇文章讲的非常全，并且很深入浅出、浅显易懂（数学不好就难懂了）</p><p><a href="https://zhuanlan.zhihu.com/self-discipline?group_id=954635149120458752" target="_blank" rel="noopener noreferrer">知乎专栏：业余程序员的个人修养</a></p><p>对于使用Javascript来学习函数式编程，槽点很多，具体可以看看这两个链接：</p><p><a href="https://awardwinningfjords.com/2014/04/21/functional-programming-in-javascript-equals-garbage.html" target="_blank" rel="noopener noreferrer">Functional Programming in Javascript === Garbage</a></p><p><a href="https://github.com/hax/hax.github.com/issues/14" target="_blank" rel="noopener noreferrer">贺老关于《Functional Programming in Javascript === Garbage》的吐槽</a></p><p><a href="https://www.zhihu.com/question/36525679/answer/67924020" target="_blank" rel="noopener noreferrer">Jim的吐槽: JavaScript可以作为函数式语言学习吗？ - Jim Liu的回答 - 知乎</a></p><hr><h3 id="面试题库"><a href="#面试题库" aria-hidden="true" class="header-anchor">#</a> 面试题库</h3><p>柯里化(Currying)具有：延迟计算、参数复用、动态生成函数的作用。相关的出题都是围绕着三个点来的，同时需要明确理解Clojure与Currying之间的联系（<a href="https://www.jianshu.com/p/a41a9a46e0a1?utm_campaign=maleskine&utm_content=note&utm_medium=seo_notes&utm_source=recommendation" target="_blank" rel="noopener noreferrer">简单了解Clojure与Lisp</a>)。但网上的资料都过于浅显，所以还是需要自己去做一些深入的了解。<br>
接下来说面试题，主要引用了<a href="https://www.zhihu.com/question/37774367/answer/192978122" target="_blank" rel="noopener noreferrer">柯里化在工程中有什么好处? - 赵雨森的回答 - 知乎</a>，以及我之前积累的几段代码。</p><h4 id="延迟计算"><a href="#延迟计算" aria-hidden="true" class="header-anchor">#</a> 延迟计算</h4><pre class="language-js"><code><span class="token comment">// curring 函数</span>
<span class="token keyword">function</span> <span class="token function">currying</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">result</span><span class="token punctuation">(</span><span class="token operator">...</span>rest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>rest<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
        args<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span>rest<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> args<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> sum <span class="token operator">=</span> <span class="token function">currying</span><span class="token punctuation">(</span>add<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10</span>

</code></pre><p>这个题目稍微简化一下，当我们不使用currying函数、不存在拆分arguments，而是只是实现一个简单功能的时候，比如
<code>sum(1)(2)(3)() = 6</code>这样的问题时，可以使用递归进行实现，这里就不进行代码实现了。<br>
同时我们也许可以选择一个更难一点的问题，比如<code>sum(1)(2)(3) = 6</code>这个问题的实现，则需要考虑取值的结果，实际上考点一个是<code>递归</code>，一个是<code>求值</code>，也就是<code>valueOf</code>和<code>toString</code>。</p><pre class="language-js"><code><span class="token comment">// add(1)(2)(3)(4)</span>

<span class="token comment">// method 1</span>
<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    sum <span class="token operator">+=</span> num<span class="token punctuation">;</span>
    <span class="token keyword">var</span> <span class="token function-variable function">tempFun</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>nnum<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>arguments<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            sum <span class="token operator">+=</span> nnum<span class="token punctuation">;</span>
            <span class="token keyword">return</span> tempFun<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    tempFun<span class="token punctuation">.</span><span class="token function-variable function">valueOf</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    tempFun<span class="token punctuation">.</span><span class="token function-variable function">toString</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> sum <span class="token operator">+</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> tempFun<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// method 2</span>
<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">addNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>arguments<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> calulate<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            Array<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>push<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>args<span class="token punctuation">,</span> Array<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>splice<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> addNum<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">function</span> <span class="token function">calulate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> result <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>previousValue<span class="token punctuation">,</span> currentValue<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> previousValue <span class="token operator">+</span> currentValue<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    addNum<span class="token punctuation">.</span><span class="token function-variable function">valueOf</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">calulate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    addNum<span class="token punctuation">.</span><span class="token function-variable function">toString</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">calulate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> addNum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">// add(args) = sum(1, 2, 3, 4)</span>
<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> sum<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="参数复用"><a href="#参数复用" aria-hidden="true" class="header-anchor">#</a> 参数复用</h4><p>例如兼容现代浏览器和IE浏览器的添加事件方法，我们通常会这样写：</p><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">addEvent</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>elem<span class="token punctuation">,</span> type<span class="token punctuation">,</span> fn<span class="token punctuation">,</span> cature<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>addEventListener<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        elem<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> fn<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>elem<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">,</span> capture<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>attachEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        elem<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">'on'</span> <span class="token operator">+</span> type<span class="token punctuation">,</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> fn<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>elem<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>这种方法显然有个问题，就是每次添加事件处理都要执行一遍<code>if {...} else if {...}</code>。其实用下面的方法只需判断一次即可：</p><pre class="language-js"><code><span class="token keyword">const</span> addEvent <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>addEventListener<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>elem<span class="token punctuation">,</span> type<span class="token punctuation">,</span> fn<span class="token punctuation">,</span> capture<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            elem<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> fn<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>elem<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">,</span> capture<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>elem<span class="token punctuation">,</span> type<span class="token punctuation">,</span> fn<span class="token punctuation">,</span> capture<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            elem<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">'on'</span> <span class="token operator">+</span> type<span class="token punctuation">,</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> fn<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>elem<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>这个例子，第一次<code>if {...} else if {...}</code>判断之后，完成了部分计算，动态创建新的函数来处理后面传入的参数，以后就不必重新进行计算了。这是一个典型的柯里化的应用。</p><h4 id="动态生成函数"><a href="#动态生成函数" aria-hidden="true" class="header-anchor">#</a> 动态生成函数</h4><p>当多次调用同一个函数，并且传递的参数绝大多数是相同的时候，那么该函数就是一个很好的柯里化候选。例如我们经常会用<code>Function.prototype.bind</code>方法来解决上述问题。</p><pre class="language-js"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'test'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>prefix<span class="token punctuation">,</span> suffix<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>prefix <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> suffix<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">'currying-'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token string">'-function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// currying-test-function</span>
</code></pre><p>与<code>call</code>/<code>apply</code>方法直接执行不同，<code>bind</code>方法将第一个参数设置为函数执行的上下文，其他参数依次传递给调用方法（函数的主体本身不执行，可以看成是延迟执行），并动态创建返回一个新的函数。这很符合柯里化的特征。下面来手动实现一下<code>bind</code>方法：</p><pre class="language-js"><code><span class="token comment">// es6</span>
Function<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">bind</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">...</span>rest<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">,</span> <span class="token operator">...</span>rest<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// es5</span>
Function<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">bind</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>oThis<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> args <span class="token operator">=</span> Array<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>slice<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> fToBind <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> <span class="token function-variable function">F</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> <span class="token function-variable function">fBound</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> ftoBind<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token keyword">instanceof</span> <span class="token class-name">F</span> <span class="token operator">?</span> <span class="token keyword">this</span> <span class="token punctuation">:</span> oThis <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
            args<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>slice<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token constant">F</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> fToBind<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
    fBound<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> fBound<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><hr><h3 id="uncurrying"><a href="#uncurrying" aria-hidden="true" class="header-anchor">#</a> uncurrying</h3><pre class="language-js"><code>Function<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">uncurry</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> _this <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> Function<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>call<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>_this<span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>   
<span class="token punctuation">}</span>
</code></pre><ul><li>为Function原型添加unCurrying方法，这样所有的function都可以被借用；</li><li>返回一个借用其它方法的函数，这是目的；</li><li>借用call方法实现，但call方法参数传入呢？借用apply，至此完毕。</li></ul><hr><h3 id="推荐库"><a href="#推荐库" aria-hidden="true" class="header-anchor">#</a> 推荐库</h3><h4 id="ramda-js"><a href="#ramda-js" aria-hidden="true" class="header-anchor">#</a> Ramda.js</h4><p>函数式编程优势主要体现在<strong>数据不变性</strong>和<strong>函数无副作用</strong>两方面。虽然 Ramda 没有对此特别加强，但它在这两方面支持的非常好。<br>
Ramda 的目标更为专注：专门为函数式编程风格而设计，更容易创建函数式 pipeline、且从不改变用户已有数据。
Ramda 主要特性如下：</p><ul><li>Ramda 强调更加纯粹的函数式风格。数据不变性和函数无副作用是其核心设计理念。这可以帮助你使用简洁、优雅的代码来完成工作。</li><li>Ramda 函数本身都是自动柯里化的。这可以让你在只提供部分参数的情况下，轻松地在已有函数的基础上创建新函数。</li><li>Ramda 函数参数的排列顺序更便于柯里化。通常最后提供要操作的数据。
最后两点一起，使得将多个函数构建为简单的函数序列变得非常容易，每个函数对数据进行变换并将结果传递给下一个函数。Ramda 的设计能很好地支持这种风格的编程。
<a href="http://ramdajs.com/0.19.0/index.html" target="_blank" rel="noopener noreferrer">Document</a><a href="https://github.com/ramda/ramda" target="_blank" rel="noopener noreferrer">Github</a></li></ul><h4 id="lodash-js-underscore-js"><a href="#lodash-js-underscore-js" aria-hidden="true" class="header-anchor">#</a> Lodash.js / Underscore.js</h4><p>Lodash
是一个一致性、模块化、高性能的 JavaScript 实用工具库。</p><p><a href="https://www.lodashjs.com" target="_blank" rel="noopener noreferrer">Lodash document</a></p><p>Underscore一个JavaScript实用库，提供了一整套函数式编程的实用功能，但是没有扩展任何JavaScript内置对象。它是这个问题的答案：“如果我在一个空白的HTML页面前坐下， 并希望立即开始工作， 我需要什么？“...它弥补了部分jQuery没有实现的功能,同时又是Backbone.js必不可少的部分。</p><p><a href="http://underscorejs.org" target="_blank" rel="noopener noreferrer">Underscore document</a></p><hr><h2 id="roast"><a href="#roast" aria-hidden="true" class="header-anchor">#</a> Roast:</h2><p>在自己并没有彻底吃透的区域，搬运其实也有风险的，可能会有知识误区，不仅误导自己也误导他人。<br>
因此我也只能说是在Javascript这门语言的fp（函数式编程）上，稍微能够理解<code>一点点</code>这种并不太能广泛应用却可以用来吹逼的知识点，因而觉得整理的资料也许还是有些用处。<br>
事实上，Javascript并不太适合用于学习fp，因为业界对于fp这个东西，除去对于表层概念的瞎吹，核心的问题并没有得到解决。而对于Lodash这类库的使用，也更多表现为基础操作库，而并非是应用fp的一些核心概念，<code>活生生用得像个语法糖一样</code>。<br>
如果需要再进一步的学习了解，可以看看ClojureScript相关资料，解决了一些Javascript在fp上的不彻底的一些问题（具体问题我也无法举例，因为学习不彻底）。再一个可以看看youtube上这个视频<a href="https://www.youtube.com/watch?v=gsffg5xxFQI" target="_blank" rel="noopener noreferrer">ClojureScript for Skeptics - Derek Slager</a>。</p><hr><h2 id="扩展阅读"><a href="#扩展阅读" aria-hidden="true" class="header-anchor">#</a> 扩展阅读</h2><p><strong>《泛函分析》</strong></p></div><div class="content edit-link"><a href="https://github.com/Liyuk/Interview-Book/edit/vuepress/docs/Collection/Currying.md" target="_blank" rel="noopener noreferrer">帮助我们改善此页面！</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div><!----></div></div></div>
    <script src="/Interview-Book/assets/js/29.4cda0dc1.js" defer></script><script src="/Interview-Book/assets/js/app.cc7264ff.js" defer></script>
  </body>
</html>
